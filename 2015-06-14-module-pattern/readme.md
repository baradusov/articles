# Паттерн «Модуль»

«Модуль» — это популярный паттерн проектирования, задача которого заключается в изоляции части логики приложения от глобального контекста для избегания конфликтов и ошибок. Модуль представляет собой в идеале независимый компонент, решающий одну небольшую задачу. Внутри модуля может быть сложная логика, но его цель — скрыть её от нас и предоставить нам простой и понятный API.

В языке JavaScript нет разделения на публичные, защищённые и приватные переменные. Но мы можем добиться псевдоприватности с помощью замыканий. Распространённая реализация «модуля» использует немедленно вызываемую функцию (IIFE) для скрытия внутренних переменных и функций. Давайте рассмотрим реализацию этого паттерна на примере списка тегов статьи:

```javascript
var tagList = (function() {
  // Приватная переменная, к
  // которой получить доступ можно
  // только внутри этой функции
  var tags = [];

  // «модуль» — это объект.
  // Возвращаемый объект публичен.
  // Снаружи мы можем получить доступ ко всем данным из этого объекта
  return {
    // публичные методы
    getItemsCount: function() {
      return tags.length;
    },

    addItem: function(tag) {
      tags.push(tag);
    }
  }
})();
```

В данном примере мы создали модуль tagList, представляющий собой список тегов. Заметьте, что модуль обёрнут в немедленно вызываемую функцию, что позволяет нам изолировать внутренние переменные от внешнего контекста. Внутри модуля мы объявили приватную переменную tags, которой присвоили массив для хранения тегов. Из функции мы возвращаем объект (модуль — это объект, не забывайте об этом) с публичными методами для работы со списком тегов. Мы объявили два метода — getItemsCount для получения количества тегов и addItem для добавления нового тега в список. Проверим работу модуля:

```
tagList.addItem('JavaScript');
tagList.addItem('Паттерны проектирования');

tagList.getItemsCount();
// => 2

tagList.tags;
// => undefined
// мы не можем получить доступ к приватной переменной
```

Как вы видите, модуль прекрасно справляется со своими задачами. Мы получили интерфейс для работы с данными (в нашем случае это список тегов), при этом вся логика и внутренние переменные скрыты от нас.

Следует отметить, что не всегда возникает необходимость изолирования переменных от внешнего кода. В таком случае вы можете создать модуль с помощью простой литеральной нотации объекта:

```javascript
var myModule = {
  config: {
    language: 'ru',
    isSingle: true
  },

  myMethod: function() {
    // ...
  }
};

// Все свойства объекта можно модифицировать извне
myModule.config.isSingle = false;
myModule.myMethod();
```
